!function(){"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}t.p="./";var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._selector=e,this.close=this.close.bind(this),this.closeWithFade=this.closeWithFade.bind(this),this.setEventListeners=this.setEventListeners.bind(this)}var e,r;return e=t,r=[{key:"open",value:function(t){var e=document.querySelector(t),n=document.querySelector(".fade");e.classList.remove("popup_closed"),n.classList.remove("fade_closed"),this.renameEditPopupValues()}},{key:"openPopupManager",value:function(){var t=this,e=document.querySelector("#button__add"),n=document.querySelector(".profile__button"),r=document.querySelector(".cover");e.addEventListener("click",(function(){t.open("#add__modal"),t._handleEscClose()})),n.addEventListener("click",(function(){t.open("#edit__modal"),t._handleEscClose()})),r.addEventListener("click",(function(){t.open("#edit__avatar"),t._handleEscClose()}))}},{key:"close",value:function(){var t=this,e=document.querySelectorAll(".popup"),n=document.querySelector(".fade");e.forEach((function(e){e.classList.add("popup_closed"),n.classList.add("fade_closed"),t.resetValidations()}))}},{key:"_handleEscClose",value:function(){var t=this;document.addEventListener("keydown",(function(e){"Escape"===e.key&&(t.close(),t.removeEscEvent(e))}))}},{key:"removeEscEvent",value:function(t){document.removeEventListener("keydown",t)}},{key:"closeWithFade",value:function(){document.querySelector(".fade").addEventListener("click",this.close)}},{key:"setEventListeners",value:function(){var t=this;document.querySelectorAll(".popup__close").forEach((function(e){e.addEventListener("click",t.close)})),this.closeWithFade()}},{key:"resetValidations",value:function(){var t=document.querySelector("#add__button"),e=document.querySelector("#edit__button"),n=document.querySelector("#avatar__button"),r=document.querySelector(".modal__button_delete");t.disabled=!0,e.disabled=!0,n.disabled=!0,r.disabled=!1,t.firstElementChild.classList.add("button__text_disabled"),e.firstElementChild.classList.add("button__text_disabled"),n.firstElementChild.classList.add("button__text_disabled"),r.firstElementChild.classList.remove("button__text_disabled"),t.classList.add("modal__button_disabled"),e.classList.add("modal__button_disabled"),n.classList.add("modal__button_disabled"),r.classList.remove("modal__button_disabled")}},{key:"renameEditPopupValues",value:function(){var t=document.querySelector(".form__name"),e=document.querySelector(".form__status"),n=document.querySelector(".profile__title"),r=document.querySelector(".profile__subtitle");t.value=n.textContent,e.value=r.textContent}}],r&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),o=t.p+"images/add.5c48f6ed75a5746aee585ad5f96d9782.png",i=t.p+"images/close.5ae06674fba535fc204b59d7831d1249.png",a=t.p+"images/edit.83ecd1ca84b74dc9b512f7b7c9a0f8cd.png",u=(t.p,t.p+"images/like.99043841e8bec6b9df2129636ccf9f8c.svg"),c=t.p+"images/logo.66cff89119b58975ea644f9d7f47a8c5.svg",l=t.p+"images/trash.a85cc5e25106301e909ec4b962980e9e.svg",s=t.p+"images/union.d83ab09b52a27065fdf3ef016dfc4abf.png",f=t.p+"images/pen.a086f758840ae814ecdece4799d2cf40.svg";function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var m=function(){function t(e){var n=e.token,r=e.link;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.token=n,this.link=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return fetch(this.link,{headers:{authorization:this.token}}).then((function(t){return t.json()}))}},{key:"_checkTheApiResponse",value:function(t){return t.ok?t.json():Promise.reject("".concat(t.status," error!"))}},{key:"setUserInfo",value:function(t){var e=this,n=t.newName,r=t.newAbout;return fetch(this.link,{method:"PATCH",headers:{authorization:this.token,"Content-Type":"application/json"},body:JSON.stringify({about:r,name:n})}).then((function(t){return e._checkTheApiResponse(t)}))}},{key:"setUserAvatar",value:function(t){var e=this;return fetch("".concat(this.link,"/avatar"),{method:"PATCH",headers:{authorization:this.token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then((function(t){return e._checkTheApiResponse(t)}))}},{key:"updateCard",value:function(t){var e=this,n=t.newName,r=t.newLink;return fetch(this.link,{method:"POST",headers:{authorization:this.token,"Content-Type":"application/json"},body:JSON.stringify({createAt:E,likes:[],link:"".concat(r),name:"".concat(n),owner:S.getUserInfo(),_id:w})}).then((function(t){return e._checkTheApiResponse(t)}))}},{key:"deleteCard",value:function(t){var e=this;return fetch("".concat(this.link,"/").concat(t),{method:"DELETE",headers:{authorization:this.token}}).then((function(t){return e._checkTheApiResponse(t)}))}},{key:"addLike",value:function(t,e){var n=this;return fetch("".concat(this.link,"/likes/").concat(t),{method:"PUT",headers:{authorization:e,"Content-Type":"application/json"}}).then((function(t){return n._checkTheApiResponse(t)}))}},{key:"removeLike",value:function(t,e){var n=this;return fetch("".concat(this.link,"/likes/").concat(t),{method:"DELETE",headers:{authorization:e,"Content-Type":"application/json"}}).then((function(t){return n._checkTheApiResponse(t)}))}}])&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),y={formName:{selector:"form__name",range:40},formStatus:{selector:"form__status",range:200},formTitle:{selector:"form__title",range:30},formLink:{selector:"form__link"},formAvatar:{selector:"form__avatar"},inputWithZeroCharacteresLenght:0,inputWithOneCharacter:1,inputEqualToOrGreaterThanTwoCharacteres:2},v=document.querySelector("#image__modal"),_=document.querySelector(".fade"),h=document.querySelector("#modal__image"),b=document.querySelector("#modal__description"),g=document.querySelector(".posts"),S=new m({token:"fd9c323e-e9d0-40a3-963c-a9bd242da440",link:"https://around.nomoreparties.co/v1/web_ptbr_cohort_02/users/me"}),k=new m({token:"fd9c323e-e9d0-40a3-963c-a9bd242da440",link:"https://around.nomoreparties.co/v1/web_ptbr_cohort_02/cards"}),w=Math.random().toString(36).substring(2)+Date.now().toString(36),E=(new Date).toLocaleString();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(r);if(o){var n=O(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e,n=t.name,r=t.link,o=t.cardTemplate,u=t.handleCardClick,c=t.like,l=t.id,s=t.owner,f=t.data,p=t.user,d=t.deleteEvent;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._name=n,e._link=r,e._cardTemplate=o,e._handleCardClick=u,e._like=c,e._id=l,e._owner=s,e._data=f,e._user=p,e._deleteEvent=d,e}return e=a,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".post").cloneNode(!0)}},{key:"setElementsInTemplate",value:function(){var t=this._getTemplate();return this._templateCorpeSets(t),this._likeEvent(t),this._likedStatus(t),this._deleteEvent.deletePostEvent(t,{owner:this._owner,data:this._data,id:this._id,user:this._user}),this._removeDeleteButtonToNotOwnersPost(t),t}},{key:"_removeDeleteButtonToNotOwnersPost",value:function(t){void 0!==this._data&&void 0!==this._owner&&JSON.stringify(this._data.owner)!==JSON.stringify(this._owner)&&t.firstElementChild.nextElementSibling.remove()}},{key:"_templateCorpeSets",value:function(t){t.querySelector(".post__title").textContent=this._name,t.querySelector(".post__image").src=this._link,t.querySelector(".post__image").setAttribute("alt","".concat(this._name)),t.querySelector(".post__delete__image").src="".concat(l),t.querySelector(".post__button").style.backgroundImage="url(".concat(u,")"),t.querySelector(".like").textContent="".concat(this._likeNumber()),this._likedStatus(t)}},{key:"_likedStatus",value:function(t){var e=this;void 0!==this._data&&void 0!==this._owner&&this._data.likes.some((function(t){return t._id===e._owner._id}))&&(t.querySelector(".post__button").style.backgroundImage="url(".concat(s,")"),t.querySelector(".post__button").classList.add("post__button_active"))}},{key:"_likeNumber",value:function(){return void 0===this._like?"0":this._like.length}},{key:"_likeEvent",value:function(t){var e=this,n=t.querySelector(".post__button");n.addEventListener("click",(function(t){n.classList.contains("post__button_active")?(n.style.backgroundImage="url(".concat(u,")"),n.classList.remove("post__button_active"),e._user.removeLike(e._id,e._user.token),t.target.nextElementSibling.textContent="".concat(Number(t.target.nextElementSibling.textContent)-1)):(n.style.backgroundImage="url(".concat(s,")"),n.classList.add("post__button_active"),e._user.addLike(e._id,e._user.token),t.target.nextElementSibling.textContent="".concat(Number(t.target.nextElementSibling.textContent)+1))}))}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}var x=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._selector=n}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._selector.append(this._renderer(t))}},{key:"renderer",value:function(){var t=this;this._items.forEach((function(e){t.addItem(e)}))}}])&&L(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(r);if(o){var n=R(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return A(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._imageModalOpen=t._imageModalOpen.bind(A(t)),t._adjustImageWidth=t._adjustImageWidth.bind(A(t)),t}return e=a,(n=[{key:"handleCardClick",value:function(){this.imageEventTarget()}},{key:"imageEventTarget",value:function(){var t=this;document.querySelectorAll(".posts").forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.contains("post__image")&&t._imageCardManager(e)}))}))}},{key:"_imageCardManager",value:function(t){this._adjustImageWidth(),this._handleEscClose(),this._imageModalOpen(),this._renderer(t)}},{key:"_renderer",value:function(t){var e=t.target.src;b.textContent=this._targetSelector(t),h.src="".concat(e),h.setAttribute("alt","".concat(this._targetSelector(t)))}},{key:"_targetSelector",value:function(t){return t.target.nextElementSibling.classList.contains("post__delete")?t.target.nextElementSibling.nextElementSibling.firstElementChild.textContent:t.target.nextElementSibling.firstElementChild.textContent}},{key:"_imageModalOpen",value:function(){v.classList.remove("popup_closed"),_.classList.remove("fade_closed")}},{key:"_adjustImageWidth",value:function(){var t=document.querySelector("#image__modal_close"),e=h.clientWidth;t.style.width="".concat(e+80,"px")}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===N(o)?o:String(o)),r)}var o}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},U.apply(this,arguments)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}new D;var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e,n=t.form,r=t.firstInput,o=t.secondInput;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._form=n,e._firstInput=r,e._secondInput=o,e}return e=a,(n=[{key:"setEventListeners",value:function(){U(W(a.prototype),"setEventListeners",this).call(this);var t=document.forms[this._form],e=t[this._firstInput],n=t[this._secondInput];this._getInputValues(t,e,n)}},{key:"_getInputValues",value:function(t,e,n){"form__edit"===t.id&&this._formEditManager(t,e,n),"form__add"===t.id&&this._formAddManager(t,e,n),"form__avatar"===t.id&&this._formAvatarManager(t,e)}},{key:"_formEditManager",value:function(t,e,n){var r=this;t.addEventListener("submit",(function(o){o.preventDefault();var i=t.querySelector(".button__text");i.textContent="Salvando...",r._newProfileName(e),r._newProfileDescription(n),S.setUserInfo({newName:e.value,newAbout:n.value}).then((function(){i.textContent="Salvar",t.reset(),r.close()})).catch((function(t){console.error(t)}))}))}},{key:"_newProfileName",value:function(t){document.querySelector(".profile__title").textContent=t.value}},{key:"_newProfileDescription",value:function(t){document.querySelector(".profile__subtitle").textContent=t.value}},{key:"_formAddManager",value:function(t,e,n){var r=this;t.addEventListener("submit",(function(o){o.preventDefault();var i=t.querySelector(".button__text");i.textContent="Criando...",r._addPopupFormInputEvent(e),r._addPopupFormInputEvent(n),k.updateCard({newName:e.value,newLink:n.value}).then((function(){i.textContent="Criar",t.reset(),t.submit(),r.close()})).catch((function(t){console.error(t)}))}))}},{key:"_addPopupFormInputEvent",value:function(t){return t.addEventListener("input",(function(){return t.value}))}},{key:"_formAvatarManager",value:function(t,e){var n=this;t.addEventListener("submit",(function(r){r.preventDefault();var o=t.querySelector(".button__text");o.textContent="Salvando...",n._newProfileAvatar(e),S.setUserAvatar(e.value).then((function(){o.textContent="Salvo",t.reset(),n.close()})).catch((function(t){console.error(t)}))}))}},{key:"_newProfileAvatar",value:function(t){document.querySelector(".profile__image").src=t.value}},{key:"_setProfileInfoInApi",value:function(t,e){S.setUserInfo({newName:t.value,newAbout:e.value})}},{key:"_setCardInfoInApi",value:function(t,e){k.updateCard({newName:t,newLink:e})}},{key:"_setAvatarInApi",value:function(t){S.setUserAvatar(t)}}])&&V(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===J(o)?o:String(o)),r)}var o}var H=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=e.inputSelector,o=e.submitButtonSelector,i=e.inactiveButtonClass,a=e.inputErrorClass,u=e.formDescription,c=e.buttonTextDisabled,l=e.editButton,s=e.addButton,f=e.avatarButton,p=e.inputNameClass,d=e.inputStatusClass,m=e.inputTitleClass,v=e.inputLinkClass,_=e.inputAvatarClass,h=n.formName,b=n.formStatus,g=n.formTitle,S=n.formLink,k=n.formAvatar;this.inputSelector=r,this._submitButtonSelector=o,this._inactiveButtonClass=i,this._inputErrorClass=a,this._formDescription=u,this._buttonTextDisabled=c,this._editButton=l,this._addButton=s,this._avatarButton=f,this._inputNameClass=p,this._inputStatusClass=d,this._inputTitleClass=m,this._inputLinkClass=v,this._inputAvatarClass=_,this._formNameSelector=h.selector,this._formStatusSelector=b.selector,this._formTitleSelector=g.selector,this._formLinkSelector=S.selector,this._formAvatarSelector=k.selector,this._formNameRange=h.range,this._formStatusRange=b.range,this._formTitleRange=g.range,this._inputValidation=this._inputValidation.bind(this),this._inputWithZeroCharacteresLenght=y.inputWithZeroCharacteresLenght,this._inputWithOneCharacter=y.inputWithOneCharacter,this._inputEqualToOrGreaterThanTwoCharacteres=y.inputEqualToOrGreaterThanTwoCharacteres}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){var t=this;document.querySelectorAll(this.inputSelector).forEach((function(e){return e.addEventListener("input",t._inputValidation)}))}},{key:"_inputValidation",value:function(t){t.target.classList.contains(this._formNameSelector)&&this._checkInputValue({target:t.target,range:this._formNameRange,selector:this._submitButtonSelector,firstFormInputSelector:this._inputNameClass,SecondFormInputSelector:this._inputStatusClass,selectorForButton:this._editButton}),t.target.classList.contains(this._formStatusSelector)&&this._checkInputValue({target:t.target,range:this._formStatusRange,selector:this._submitButtonSelector,firstFormInputSelector:this._inputNameClass,SecondFormInputSelector:this._inputStatusClass,selectorForButton:this._editButton}),t.target.classList.contains(this._formTitleSelector)&&this._checkInputValue({target:t.target,range:this._formTitleRange,selector:this._submitButtonSelector,firstFormInputSelector:this._inputTitleClass,SecondFormInputSelector:this._inputLinkClass,selectorForButton:this._addButton}),t.target.classList.contains(this._formLinkSelector)&&this._checkURL({target:t.target,selector:this._submitButtonSelector,firstFormInputSelector:this._inputTitleClass,SecondFormInputSelector:this._inputLinkClass,selectorForButton:this._addButton}),t.target.classList.contains(this._formAvatarSelector)&&this._checkURL({target:t.target,selector:this._submitButtonSelector,firstFormInputSelector:this._inputAvatarClass,SecondFormInputSelector:void 0,selectorForButton:this._avatarButton})}},{key:"_checkInputValue",value:function(t){var e=t.target,n=t.range,r=t.selector,o=t.firstFormInputSelector,i=t.SecondFormInputSelector,a=t.selectorForButton;e.value.length===this._inputWithZeroCharacteresLenght&&this._invalidInputValue({target:e,text:"Preencha esse campo",selector:r,firstFormInputSelector:o,SecondFormInputSelector:i,selectorForButton:a}),(e.value.length===this._inputWithOneCharacter||e.value.length>n)&&this._invalidInputValue({target:e,text:"Esse campo deve ter de 2 a ".concat(n," caracteres. Esse campo possui ").concat(e.value.length," dígitos"),selector:r,firstFormInputSelector:o,SecondFormInputSelector:i,selectorForButton:a}),e.value.length>=this._inputEqualToOrGreaterThanTwoCharacteres&&e.value.length<=n&&this._rightCharacteres({target:e,firstFormInputSelector:o,SecondFormInputSelector:i,selectorForButton:a})}},{key:"_checkURL",value:function(t){var e=t.target,n=t.selector,r=t.firstFormInputSelector,o=t.SecondFormInputSelector,i=t.selectorForButton;!0===this._isValidHttpUrl(e.value)?this._rightCharacteres({target:e,firstFormInputSelector:r,SecondFormInputSelector:o,selectorForButton:i}):this._invalidInputValue({target:e,text:"Por favor, insira um endereço web",selector:n,firstFormInputSelector:r,SecondFormInputSelector:o,selectorForButton:i})}},{key:"_invalidInputValue",value:function(t){var e=t.target,n=t.text,r=t.selector,o=t.firstFormInputSelector,i=t.SecondFormInputSelector,a=t.selectorForButton;this._addInputError(e),this._addTextError({target:e,text:n}),this._addDisableButton(r),this._formValidationManager({firstFormInputSelector:o,SecondFormInputSelector:i,selectorForButton:a})}},{key:"_rightCharacteres",value:function(t){var e=t.target,n=t.firstFormInputSelector,r=t.SecondFormInputSelector,o=t.selectorForButton;this._removeInputError(e),this._removeTextError(e),this._formValidationManager({firstFormInputSelector:n,SecondFormInputSelector:r,selectorForButton:o})}},{key:"_addInputError",value:function(t){t.classList.add(this._inputErrorClass)}},{key:"_addTextError",value:function(t){var e=t.target,n=t.text,r=e.nextElementSibling;r.classList.add(this._formDescription),r.textContent=n}},{key:"_addDisableButton",value:function(t){var e=this;document.querySelectorAll(t).forEach((function(t){t.disabled=!0,t.classList.add(e._inactiveButtonClass),t.firstElementChild.classList.add(e._buttonTextDisabled)}))}},{key:"_removeInputError",value:function(t){t.classList.remove(this._inputErrorClass)}},{key:"_removeTextError",value:function(t){var e=t.nextElementSibling;e.classList.remove(this._formDescription),e.textContent=""}},{key:"_removeDisableButton",value:function(t){var e=document.querySelector(t);e.disabled=!1,e.classList.remove(this._inactiveButtonClass),e.firstElementChild.classList.remove(this._buttonTextDisabled)}},{key:"_isValidHttpUrl",value:function(t){return/^(http|https):\/\/[^ ']+$/.test(t)}},{key:"_formValidationManager",value:function(t){var e=t.firstFormInputSelector,n=t.SecondFormInputSelector,r=t.selectorForButton,o=document.querySelector(e),i=document.querySelector(n);null==i?o.classList.contains(this._inputErrorClass)||""==o.value?this._addDisableButton(r):this._removeDisableButton(r):o.classList.contains(this._inputErrorClass)||i.classList.contains(this._inputErrorClass)||""==o.value||""==i.value?this._addDisableButton(r):this._removeDisableButton(r)}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Z(o)?o:String(o)),r)}var o}var K=function(){function t(e){var n=e.name,r=e.work,o=e.image;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n,this._work=r,this._image=o}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name,work:this._work,image:this._image}}},{key:"setUserInfo",value:function(){var t,e,n;t=this._name,document.querySelector(".profile__title").textContent="".concat(t),e=this._work,document.querySelector(".profile__subtitle").textContent="".concat(e),n=this._image,document.querySelector(".profile__image").setAttribute("src","".concat(n)),document.querySelector(".profile__image").setAttribute("alt","Imagem de perfil do usuário")}}])&&$(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Q(o)?o:String(o)),r)}var o}var Y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"insertInPage",value:function(t){var e=t.local,n=t.link;document.querySelectorAll(e).forEach((function(t){return t.setAttribute("src","".concat(n))}))}}])&&X(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===tt(o)?o:String(o)),r)}var o}function nt(){return nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},nt.apply(this,arguments)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(r);if(o){var n=ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this)}return e=a,(n=[{key:"deletePostEvent",value:function(t,e){var n=this,r=e.owner,o=e.data,i=e.id,a=e.user;t.querySelector(".post__delete__image").addEventListener("click",(function(t){return n._openDeletePopup(t,{owner:r,data:o,id:i,user:a})}))}},{key:"_openDeletePopup",value:function(t,e){var n=e.owner,r=e.data,o=e.id,i=e.user;nt(ot(a.prototype),"open",this).call(this,".popup_modal-delete"),this._closeDeletePopup(t,{owner:n,data:r,id:o,user:i})}},{key:"_closeDeletePopup",value:function(t,e){var n=this,r=e.owner,o=e.data,i=e.id,u=e.user;document.querySelector(".modal__button_delete").addEventListener("click",(function(e){e.preventDefault(),nt(ot(a.prototype),"close",n).call(n,".popup_modal-delete"),n._deletePostInPage(t),n._deletePostInServer(u,i)})),JSON.stringify(r._id)!==JSON.stringify(o.owner._id)&&console.log("Você não tem permissão para excluir esse cartão")}},{key:"_deletePostInPage",value:function(t){t.target.parentElement.parentElement.remove()}},{key:"_deletePostInServer",value:function(t,e){t.deleteCard(e)}}])&&et(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r);function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ut=new Y;ut.insertInPage({local:".logo",link:c}),ut.insertInPage({local:".edit",link:a}),ut.insertInPage({local:".add",link:o}),ut.insertInPage({local:".popup__icon",link:i}),ut.insertInPage({local:".post__delete__image",link:l}),document.querySelector(".cover").style.backgroundImage="url(".concat(f,")");var ct=new z({form:"formEdit",firstInput:"formName",secondInput:"formDescription"}),lt=new z({form:"formAdd",firstInput:"formTitle",secondInput:"formLink",formNameRange:40,formStatusRange:200,formTitleRange:30}),st=new z({form:"formAvatar",firstInput:"formImage"});ct.setEventListeners(),lt.setEventListeners(),st.setEventListeners();var ft=new D,pt=new r;pt.openPopupManager(),pt.setEventListeners(),new H({inputSelector:".form__input",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"form__input_error",formDescription:"form__description",buttonTextDisabled:"button__text_disabled",submitButtonSelector:".modal__button",editButton:"#edit__button",addButton:"#add__button",avatarButton:".button_avatar",inputNameClass:".form__name",inputStatusClass:".form__status",inputTitleClass:".form__title",inputLinkClass:".form__link",inputAvatarClass:".form__avatar"},y).enableValidation(),S.getUserInfo().then((function(t){new K({name:t.name,work:t.about,image:t.avatar}).setUserInfo()})).catch((function(t){return console.log(t)}));var dt=new it;Promise.all([k.getUserInfo(),S.getUserInfo()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(t,e){if(t){if("string"==typeof t)return at(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];new x({items:o,renderer:function(t){return new j({name:t.name,link:t.link,cardTemplate:"#post__template",handleCardClick:ft.handleCardClick(),like:t.likes,id:t._id,owner:i,data:t,user:k,deleteEvent:dt}).setElementsInTemplate()}},g).renderer()})).catch((function(t){return t}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2ViNC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy9pbWFnZXMvYWRkLnBuZyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2ltYWdlcy9jbG9zZS5wbmciLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy9pbWFnZXMvZWRpdC5wbmciLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy9pbWFnZXMvbGlrZS5zdmciLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy9pbWFnZXMvR2FyaXRob3NfcG9ydHJhaXQud2VicCIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2ltYWdlcy9sb2dvLnN2ZyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2ltYWdlcy90cmFzaC5zdmciLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy9pbWFnZXMvdW5pb24ucG5nIiwid2VicGFjazovL3dlYjQvLi9zcmMvaW1hZ2VzL3Blbi5zdmciLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViNC8uL3NyYy9jb21wb25lbnRzL0ltYWdlc1JlbmRlci5qcyIsIndlYnBhY2s6Ly93ZWI0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3dlYjQvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9cIjsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xvc2VXaXRoRmFkZSA9IHRoaXMuY2xvc2VXaXRoRmFkZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMgPSB0aGlzLnNldEV2ZW50TGlzdGVuZXJzLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKGFyZykge1xuICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhcmcpO1xuICAgIGNvbnN0IGZhZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFkZScpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2Nsb3NlZCcpO1xuICAgIGZhZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZV9jbG9zZWQnKTtcbiAgICB0aGlzLnJlbmFtZUVkaXRQb3B1cFZhbHVlcygpO1xuICB9XG5cbiAgb3BlblBvcHVwTWFuYWdlcigpIHtcbiAgICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnV0dG9uX19hZGQnKTtcbiAgICBjb25zdCBwcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbicpO1xuICAgIGNvbnN0IGF2YXRhckVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY292ZXInKVxuICAgIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMub3BlbignI2FkZF9fbW9kYWwnKTtcbiAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKCk7XG4gICAgfSk7XG4gICAgcHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMub3BlbignI2VkaXRfX21vZGFsJyk7XG4gICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSgpO1xuICAgIH0pO1xuICAgIGF2YXRhckVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLm9wZW4oJyNlZGl0X19hdmF0YXInKTtcbiAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBjb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKTtcbiAgICBjb25zdCBmYWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhZGUnKTtcbiAgICBwb3B1cHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdwb3B1cF9jbG9zZWQnKTtcbiAgICAgIGZhZGUuY2xhc3NMaXN0LmFkZCgnZmFkZV9jbG9zZWQnKTtcbiAgICAgIHRoaXMucmVzZXRWYWxpZGF0aW9ucygpO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlRXNjRXZlbnQoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVFc2NFdmVudChlKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUpO1xuICB9XG5cbiAgY2xvc2VXaXRoRmFkZSgpIHtcbiAgICBjb25zdCBmYWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhZGUnKTtcbiAgICBmYWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2Nsb3NlJyk7XG4gICAgY2xvc2VCdXR0b25zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcbiAgICB9KTtcbiAgICB0aGlzLmNsb3NlV2l0aEZhZGUoKVxuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9ucygpIHtcbiAgICBjb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGRfX2J1dHRvbicpO1xuICAgIGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0X19idXR0b24nKTtcbiAgICBjb25zdCBhdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhdmF0YXJfX2J1dHRvbicpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19idXR0b25fZGVsZXRlJyk7XG4gICAgYWRkTW9kYWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgIGVkaXRNb2RhbC5kaXNhYmxlZCA9IHRydWU7XG4gICAgYXZhdGFyTW9kYWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgIGRlbGV0ZU1vZGFsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYWRkTW9kYWwuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZCgnYnV0dG9uX190ZXh0X2Rpc2FibGVkJyk7XG4gICAgZWRpdE1vZGFsLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbl9fdGV4dF9kaXNhYmxlZCcpO1xuICAgIGF2YXRhck1vZGFsLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbl9fdGV4dF9kaXNhYmxlZCcpO1xuICAgIGRlbGV0ZU1vZGFsLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbl9fdGV4dF9kaXNhYmxlZCcpO1xuICAgIGFkZE1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsX19idXR0b25fZGlzYWJsZWQnKTtcbiAgICBlZGl0TW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWxfX2J1dHRvbl9kaXNhYmxlZCcpO1xuICAgIGF2YXRhck1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsX19idXR0b25fZGlzYWJsZWQnKTtcbiAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9fYnV0dG9uX2Rpc2FibGVkJyk7XG4gIH1cblxuICByZW5hbWVFZGl0UG9wdXBWYWx1ZXMoKSB7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fbmFtZScpO1xuICAgIGNvbnN0IGZvcm1TdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc3RhdHVzJyk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcbiAgICBjb25zdCBzdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19zdWJ0aXRsZScpO1xuICAgIGZvcm1OYW1lLnZhbHVlID0gdGl0bGUudGV4dENvbnRlbnQ7XG4gICAgZm9ybVN0YXR1cy52YWx1ZSA9IHN1YnRpdGxlLnRleHRDb250ZW50O1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9hZGQuNWM0OGY2ZWQ3NWE1NzQ2YWVlNTg1YWQ1Zjk2ZDk3ODIucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9jbG9zZS41YWUwNjY3NGZiYTUzNWZjMjA0YjU5ZDc4MzFkMTI0OS5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2VkaXQuODNlY2QxY2E4NGI3NGRjOWI1MTJmN2I3YzlhMGY4Y2QucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9saWtlLjk5MDQzODQxZThiZWM2YjlkZjIxMjk2MzZjY2Y5ZjhjLnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvR2FyaXRob3NfcG9ydHJhaXQuYmZjZmVlOGQ0YzY1ODA0Yjc0MzU1YTE5NmMxNGRmYjAud2VicFwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvbG9nby42NmNmZjg5MTE5YjU4OTc1ZWE2NDRmOWQ3ZjQ3YThjNS5zdmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3RyYXNoLmE4NWNjNWUyNTEwNjMwMWU5MDllYzRiOTYyOTgwZTllLnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvdW5pb24uZDgzYWIwOWI1MmEyNzA2NWZkZjNlZjAxNmRmYzRhYmYucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9wZW4uYTA4NmY3NTg4NDBhZTgxNGVjZGVjZTQ3OTlkMmNmNDAuc3ZnXCI7IiwiaW1wb3J0IHsgYXBpVXNlciwgbmV3SWQsIGFjdHVhbERhdGVUaW1lIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyB0b2tlbiwgbGluayB9KSB7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMubGluayA9IGxpbms7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5saW5rLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMudG9rZW5cbiAgICAgIH1cbiAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xuICB9XG5cbiAgX2NoZWNrVGhlQXBpUmVzcG9uc2UocmVzKSB7XG4gICAge1xuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGAke3Jlcy5zdGF0dXN9IGVycm9yIWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuZXdOYW1lLCBuZXdBYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMubGluaywge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLnRva2VuLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhYm91dDogbmV3QWJvdXQsIG5hbWU6IG5ld05hbWUgfSlcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tUaGVBcGlSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoaW1hZ2UpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5saW5rfS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMudG9rZW4sXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogaW1hZ2UgfSlcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tUaGVBcGlSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIHVwZGF0ZUNhcmQoeyBuZXdOYW1lLCBuZXdMaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5saW5rLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy50b2tlbixcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY3JlYXRlQXQ6IGFjdHVhbERhdGVUaW1lLCBsaWtlczogW10sIGxpbms6IGAke25ld0xpbmt9YCwgbmFtZTogYCR7bmV3TmFtZX1gLCBvd25lcjogYXBpVXNlci5nZXRVc2VySW5mbygpLCBfaWQ6IG5ld0lkIH0pXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrVGhlQXBpUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmxpbmt9LyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMudG9rZW5cbiAgICAgIH1cbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tUaGVBcGlSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkLCB0b2tlbikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmxpbmt9L2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRva2VuLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1RoZUFwaVJlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQsIHRva2VuKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMubGlua30vbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdG9rZW4sXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrVGhlQXBpUmVzcG9uc2UocmVzKSk7XG4gIH1cbn0iLCIvLyBJbWFnZXNcbmltcG9ydCBidXR0b25BZGRJY29uIGZyb20gJy4uL2ltYWdlcy9hZGQucG5nJztcbmltcG9ydCBjbG9zZUljb24gZnJvbSAnLi4vaW1hZ2VzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgYnV0dG9uRWRpdEljb24gZnJvbSAnLi4vaW1hZ2VzL2VkaXQucG5nJztcbmltcG9ydCBwcm9maWxlSW1hZ2UgZnJvbSAnLi4vaW1hZ2VzL0dhcml0aG9zX3BvcnRyYWl0LndlYnAnO1xuaW1wb3J0IGxpa2VCdXR0b24gZnJvbSAnLi4vaW1hZ2VzL2xpa2Uuc3ZnJztcbmltcG9ydCBsb2dvIGZyb20gJy4uL2ltYWdlcy9sb2dvLnN2Zyc7XG5pbXBvcnQgdHJhc2hJY29uIGZyb20gJy4uL2ltYWdlcy90cmFzaC5zdmcnO1xuaW1wb3J0IGxpa2VCdXR0b25BY3RpdmVkIGZyb20gJy4uL2ltYWdlcy91bmlvbi5wbmcnO1xuaW1wb3J0IHBlbiBmcm9tICcuLi9pbWFnZXMvcGVuLnN2ZydcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGknO1xuXG5leHBvcnQgeyBidXR0b25BZGRJY29uLCBjbG9zZUljb24sIGJ1dHRvbkVkaXRJY29uLCBwcm9maWxlSW1hZ2UsIGxpa2VCdXR0b24sIGxvZ28sIHRyYXNoSWNvbiwgbGlrZUJ1dHRvbkFjdGl2ZWQsIHBlbiB9O1xuXG4vLyBGb3JtVmFsaWRhdG9yXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbiA9IHtcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdtb2RhbF9fYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfZXJyb3InLFxuICBmb3JtRGVzY3JpcHRpb246ICdmb3JtX19kZXNjcmlwdGlvbicsXG4gIGJ1dHRvblRleHREaXNhYmxlZDogJ2J1dHRvbl9fdGV4dF9kaXNhYmxlZCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLm1vZGFsX19idXR0b24nLFxuICBlZGl0QnV0dG9uOiAnI2VkaXRfX2J1dHRvbicsXG4gIGFkZEJ1dHRvbjogJyNhZGRfX2J1dHRvbicsXG4gIGF2YXRhckJ1dHRvbjogJy5idXR0b25fYXZhdGFyJyxcbiAgaW5wdXROYW1lQ2xhc3M6ICcuZm9ybV9fbmFtZScsXG4gIGlucHV0U3RhdHVzQ2xhc3M6ICcuZm9ybV9fc3RhdHVzJyxcbiAgaW5wdXRUaXRsZUNsYXNzOiAnLmZvcm1fX3RpdGxlJyxcbiAgaW5wdXRMaW5rQ2xhc3M6ICcuZm9ybV9fbGluaycsXG4gIGlucHV0QXZhdGFyQ2xhc3M6ICcuZm9ybV9fYXZhdGFyJ1xufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50c1RvQmVWYWxpZGF0ZWQgPSB7XG4gIGZvcm1OYW1lOiB7IHNlbGVjdG9yOiAnZm9ybV9fbmFtZScsIHJhbmdlOiA0MCB9LFxuICBmb3JtU3RhdHVzOiB7IHNlbGVjdG9yOiAnZm9ybV9fc3RhdHVzJywgcmFuZ2U6IDIwMCB9LFxuICBmb3JtVGl0bGU6IHsgc2VsZWN0b3I6ICdmb3JtX190aXRsZScsIHJhbmdlOiAzMCB9LFxuICBmb3JtTGluazogeyBzZWxlY3RvcjogJ2Zvcm1fX2xpbmsnIH0sXG4gIGZvcm1BdmF0YXI6IHsgc2VsZWN0b3I6ICdmb3JtX19hdmF0YXInIH0sXG4gIGlucHV0V2l0aFplcm9DaGFyYWN0ZXJlc0xlbmdodDogMCxcbiAgaW5wdXRXaXRoT25lQ2hhcmFjdGVyOiAxLFxuICBpbnB1dEVxdWFsVG9PckdyZWF0ZXJUaGFuVHdvQ2hhcmFjdGVyZXM6IDJcbn07XG5cbi8vIGltYWdlQ2FyZFxuZXhwb3J0IGNvbnN0IGltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2VfX21vZGFsJyk7XG5leHBvcnQgY29uc3QgZmFkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWRlJyk7XG5leHBvcnQgY29uc3QgbW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbF9faW1hZ2UnKTtcbmV4cG9ydCBjb25zdCBtb2RhbERlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGFsX19kZXNjcmlwdGlvbicpO1xuXG4vLyBzZWN0aW9uXG5leHBvcnQgY29uc3QgcG9zdHMgPSAnLnBvc3RzJ1xuXG4vLyBBUElcbmV4cG9ydCBjb25zdCBjYXJkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3N0cycpO1xuZXhwb3J0IGNvbnN0IGFwaVVzZXIgPSBuZXcgQXBpKHsgdG9rZW46ICdmZDljMzIzZS1lOWQwLTQwYTMtOTYzYy1hOWJkMjQyZGE0NDAnLCBsaW5rOiAnaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfcHRicl9jb2hvcnRfMDIvdXNlcnMvbWUnIH0pO1xuZXhwb3J0IGNvbnN0IGFwaVVzZXJDYXJkID0gbmV3IEFwaSh7IHRva2VuOiAnZmQ5YzMyM2UtZTlkMC00MGEzLTk2M2MtYTliZDI0MmRhNDQwJywgbGluazogJ2h0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX3B0YnJfY29ob3J0XzAyL2NhcmRzJyB9KTtcbmV4cG9ydCBjb25zdCBuZXdJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKSArIERhdGUubm93KCkudG9TdHJpbmcoMzYpO1xuY29uc3QgYWN0dWFsRGF0ZSA9IG5ldyBEYXRlKCk7XG5leHBvcnQgY29uc3QgYWN0dWFsRGF0ZVRpbWUgPSBhY3R1YWxEYXRlLnRvTG9jYWxlU3RyaW5nKCk7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5pbXBvcnQgeyBsaWtlQnV0dG9uLCB0cmFzaEljb24sIGxpa2VCdXR0b25BY3RpdmVkIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgbGluaywgY2FyZFRlbXBsYXRlLCBoYW5kbGVDYXJkQ2xpY2ssIGxpa2UsIGlkLCBvd25lciwgZGF0YSwgdXNlciwgZGVsZXRlRXZlbnQgfSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2xpa2UgPSBsaWtlO1xuICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgdGhpcy5fb3duZXIgPSBvd25lcjtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl91c2VyID0gdXNlcjtcbiAgICB0aGlzLl9kZWxldGVFdmVudCA9IGRlbGV0ZUV2ZW50O1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkVGVtcGxhdGUpLmNvbnRlbnQ7XG4gICAgY29uc3QgdGVtcGxhdGVDb3JwZSA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5wb3N0JykuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZUNvcnBlO1xuICB9XG5cbiAgc2V0RWxlbWVudHNJblRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlQ29ycGUgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3RlbXBsYXRlQ29ycGVTZXRzKHRlbXBsYXRlQ29ycGUpO1xuICAgIHRoaXMuX2xpa2VFdmVudCh0ZW1wbGF0ZUNvcnBlKTtcbiAgICB0aGlzLl9saWtlZFN0YXR1cyh0ZW1wbGF0ZUNvcnBlKTtcbiAgICB0aGlzLl9kZWxldGVFdmVudC5kZWxldGVQb3N0RXZlbnQodGVtcGxhdGVDb3JwZSwgeyBvd25lcjogdGhpcy5fb3duZXIsIGRhdGE6IHRoaXMuX2RhdGEsIGlkOiB0aGlzLl9pZCwgdXNlcjogdGhpcy5fdXNlciB9KTtcbiAgICB0aGlzLl9yZW1vdmVEZWxldGVCdXR0b25Ub05vdE93bmVyc1Bvc3QodGVtcGxhdGVDb3JwZSk7XG4gICAgcmV0dXJuIHRlbXBsYXRlQ29ycGU7XG4gIH1cblxuICBfcmVtb3ZlRGVsZXRlQnV0dG9uVG9Ob3RPd25lcnNQb3N0KHRlbXBsYXRlQ29ycGUpIHtcbiAgICBpZiAodGhpcy5fZGF0YSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX293bmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLl9kYXRhLm93bmVyKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5fb3duZXIpKSB7XG4gICAgICAgIHRlbXBsYXRlQ29ycGUuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLnJlbW92ZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBfdGVtcGxhdGVDb3JwZVNldHModGVtcGxhdGVDb3JwZSkge1xuICAgIHRlbXBsYXRlQ29ycGUucXVlcnlTZWxlY3RvcignLnBvc3RfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRlbXBsYXRlQ29ycGUucXVlcnlTZWxlY3RvcignLnBvc3RfX2ltYWdlJykuc3JjID0gdGhpcy5fbGluaztcbiAgICB0ZW1wbGF0ZUNvcnBlLnF1ZXJ5U2VsZWN0b3IoJy5wb3N0X19pbWFnZScpLnNldEF0dHJpYnV0ZSgnYWx0JywgYCR7dGhpcy5fbmFtZX1gKTtcbiAgICB0ZW1wbGF0ZUNvcnBlLnF1ZXJ5U2VsZWN0b3IoJy5wb3N0X19kZWxldGVfX2ltYWdlJykuc3JjID0gYCR7dHJhc2hJY29ufWA7XG4gICAgdGVtcGxhdGVDb3JwZS5xdWVyeVNlbGVjdG9yKCcucG9zdF9fYnV0dG9uJykuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2xpa2VCdXR0b259KWA7XG4gICAgdGVtcGxhdGVDb3JwZS5xdWVyeVNlbGVjdG9yKCcubGlrZScpLnRleHRDb250ZW50ID0gYCR7dGhpcy5fbGlrZU51bWJlcigpfWA7XG4gICAgdGhpcy5fbGlrZWRTdGF0dXModGVtcGxhdGVDb3JwZSk7XG4gIH1cblxuICBfbGlrZWRTdGF0dXModGVtcGxhdGVDb3JwZSkge1xuICAgIGlmICh0aGlzLl9kYXRhICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fb3duZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgbGlrZWQgPSB0aGlzLl9kYXRhLmxpa2VzLnNvbWUoKGxpa2VzKSA9PiBsaWtlcy5faWQgPT09IHRoaXMuX293bmVyLl9pZCk7XG4gICAgICBpZiAobGlrZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDb3JwZS5xdWVyeVNlbGVjdG9yKCcucG9zdF9fYnV0dG9uJykuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2xpa2VCdXR0b25BY3RpdmVkfSlgO1xuICAgICAgICB0ZW1wbGF0ZUNvcnBlLnF1ZXJ5U2VsZWN0b3IoJy5wb3N0X19idXR0b24nKS5jbGFzc0xpc3QuYWRkKCdwb3N0X19idXR0b25fYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2xpa2VOdW1iZXIoKSB7XG4gICAgaWYgKHRoaXMuX2xpa2UgPT09IHVuZGVmaW5lZClcbiAgICAgIHJldHVybiAnMCc7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHRoaXMuX2xpa2UubGVuZ3RoO1xuICB9XG5cbiAgX2xpa2VFdmVudCh0ZW1wbGF0ZUNvcnBlKSB7XG4gICAgY29uc3QgbGlrZSA9IHRlbXBsYXRlQ29ycGUucXVlcnlTZWxlY3RvcignLnBvc3RfX2J1dHRvbicpO1xuICAgIGxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKCFsaWtlLmNsYXNzTGlzdC5jb250YWlucygncG9zdF9fYnV0dG9uX2FjdGl2ZScpKSB7XG4gICAgICAgIGxpa2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2xpa2VCdXR0b25BY3RpdmVkfSlgO1xuICAgICAgICBsaWtlLmNsYXNzTGlzdC5hZGQoJ3Bvc3RfX2J1dHRvbl9hY3RpdmUnKTtcbiAgICAgICAgdGhpcy5fdXNlci5hZGRMaWtlKHRoaXMuX2lkLCB0aGlzLl91c2VyLnRva2VuKTtcbiAgICAgICAgZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50ID0gYCR7TnVtYmVyKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudCkgKyAxfWA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGlrZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7bGlrZUJ1dHRvbn0pYDtcbiAgICAgICAgbGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdwb3N0X19idXR0b25fYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuX3VzZXIucmVtb3ZlTGlrZSh0aGlzLl9pZCwgdGhpcy5fdXNlci50b2tlbik7XG4gICAgICAgIGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudCA9IGAke051bWJlcihlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQpIC0gMX1gO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fc2VsZWN0b3IuYXBwZW5kKHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcmVyKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLmFkZEl0ZW0oaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5pbXBvcnQgeyBpbWFnZU1vZGFsLCBmYWRlLCBtb2RhbEltYWdlLCBtb2RhbERlc2NyaXB0aW9uIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2ltYWdlTW9kYWxPcGVuID0gdGhpcy5faW1hZ2VNb2RhbE9wZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9hZGp1c3RJbWFnZVdpZHRoID0gdGhpcy5fYWRqdXN0SW1hZ2VXaWR0aC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlQ2FyZENsaWNrKCkge1xuICAgIHRoaXMuaW1hZ2VFdmVudFRhcmdldCgpO1xuICB9XG5cbiAgaW1hZ2VFdmVudFRhcmdldCgpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9zdHMnKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9zdF9faW1hZ2UnKSkge1xuICAgICAgICAgIHRoaXMuX2ltYWdlQ2FyZE1hbmFnZXIoZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2ltYWdlQ2FyZE1hbmFnZXIoZSkge1xuICAgIHRoaXMuX2FkanVzdEltYWdlV2lkdGgoKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSgpO1xuICAgIHRoaXMuX2ltYWdlTW9kYWxPcGVuKCk7XG4gICAgdGhpcy5fcmVuZGVyZXIoZSk7XG4gIH1cblxuICBfcmVuZGVyZXIoZSkge1xuICAgIGNvbnN0IGltYWdlU291cmNlID0gZS50YXJnZXQuc3JjO1xuICAgIG1vZGFsRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0aGlzLl90YXJnZXRTZWxlY3RvcihlKTtcbiAgICBtb2RhbEltYWdlLnNyYyA9IGAke2ltYWdlU291cmNlfWA7XG4gICAgbW9kYWxJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGAke3RoaXMuX3RhcmdldFNlbGVjdG9yKGUpfWApXG4gIH1cblxuICBfdGFyZ2V0U2VsZWN0b3IoZSkge1xuICAgIGlmIChlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3N0X19kZWxldGUnKSkge1xuICAgICAgY29uc3QgaW1hZ2VUaXRsZSA9IGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcuZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICByZXR1cm4gaW1hZ2VUaXRsZVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IGltYWdlVGl0bGUgPSBlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICByZXR1cm4gaW1hZ2VUaXRsZVxuICAgIH1cbiAgfVxuXG4gIF9pbWFnZU1vZGFsT3BlbigpIHtcbiAgICBpbWFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2Nsb3NlZCcpO1xuICAgIGZhZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZV9jbG9zZWQnKTtcbiAgfVxuXG4gIF9hZGp1c3RJbWFnZVdpZHRoKCkge1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlX19tb2RhbF9jbG9zZScpO1xuICAgIGNvbnN0IGltYWdlV2lkdGggPSBtb2RhbEltYWdlLmNsaWVudFdpZHRoO1xuICAgIGNsb3NlQnV0dG9uLnN0eWxlLndpZHRoID0gYCR7aW1hZ2VXaWR0aCArIDgwfXB4YDtcbiAgfVxufSIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuY29uc3QgaW1hZ2VDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoKTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld0NhcmQgPSAodGl0bGUsIGxpbmspID0+IHtcbiAgY29uc3QgcG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9zdHMnKTtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHsgbmFtZTogdGl0bGUsIGxpbms6IGxpbmssIGNhcmRUZW1wbGF0ZTogJyNwb3N0X190ZW1wbGF0ZScsIGhhbmRsZUNhcmRDbGljazogaW1hZ2VDYXJkUG9wdXAuaGFuZGxlQ2FyZENsaWNrKCkgfSk7XG4gIHBvc3RzLmluc2VydEJlZm9yZShuZXdDYXJkLnNldEVsZW1lbnRzSW5UZW1wbGF0ZSgpLCBwb3N0cy5maXJzdEVsZW1lbnRDaGlsZCk7XG59XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IChuYW1lKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpLnRleHRDb250ZW50ID0gYCR7bmFtZX1gO1xufVxuXG5leHBvcnQgY29uc3QgcHJvZmlsZVdvcmsgPSAod29yaykgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3VidGl0bGUnKS50ZXh0Q29udGVudCA9IGAke3dvcmt9YDtcbn1cblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbWFnZSA9IChpbWFnZSkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke2ltYWdlfWApO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGBJbWFnZW0gZGUgcGVyZmlsIGRvIHVzdcOhcmlvYClcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmltcG9ydCB7IGNyZWF0ZU5ld0NhcmQgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCB7IGFwaVVzZXIsIGFwaVVzZXJDYXJkIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IGZvcm0sIGZpcnN0SW5wdXQsIHNlY29uZElucHV0IH0pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2ZpcnN0SW5wdXQgPSBmaXJzdElucHV0O1xuICAgIHRoaXMuX3NlY29uZElucHV0ID0gc2Vjb25kSW5wdXQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1t0aGlzLl9mb3JtXTtcbiAgICBjb25zdCBmaXJzdElucHV0ID0gZm9ybVt0aGlzLl9maXJzdElucHV0XTtcbiAgICBjb25zdCBzZWNvbmRJbnB1dCA9IGZvcm1bdGhpcy5fc2Vjb25kSW5wdXRdO1xuICAgIHRoaXMuX2dldElucHV0VmFsdWVzKGZvcm0sIGZpcnN0SW5wdXQsIHNlY29uZElucHV0KTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcyhmb3JtLCBmaXJzdElucHV0LCBzZWNvbmRJbnB1dCkge1xuICAgIGlmIChmb3JtLmlkID09PSAnZm9ybV9fZWRpdCcpXG4gICAgICB0aGlzLl9mb3JtRWRpdE1hbmFnZXIoZm9ybSwgZmlyc3RJbnB1dCwgc2Vjb25kSW5wdXQpO1xuICAgIGlmIChmb3JtLmlkID09PSAnZm9ybV9fYWRkJylcbiAgICAgIHRoaXMuX2Zvcm1BZGRNYW5hZ2VyKGZvcm0sIGZpcnN0SW5wdXQsIHNlY29uZElucHV0KTtcbiAgICBpZiAoZm9ybS5pZCA9PT0gJ2Zvcm1fX2F2YXRhcicpXG4gICAgICB0aGlzLl9mb3JtQXZhdGFyTWFuYWdlcihmb3JtLCBmaXJzdElucHV0KTtcbiAgfVxuXG4gIC8vIFBvcHVwIEVkaXRcbiAgX2Zvcm1FZGl0TWFuYWdlcihmb3JtLCBmaXJzdElucHV0LCBzZWNvbmRJbnB1dCkge1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmJ1dHRvbl9fdGV4dCcpO1xuICAgICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ1NhbHZhbmRvLi4uJztcbiAgICAgIHRoaXMuX25ld1Byb2ZpbGVOYW1lKGZpcnN0SW5wdXQpO1xuICAgICAgdGhpcy5fbmV3UHJvZmlsZURlc2NyaXB0aW9uKHNlY29uZElucHV0KTtcbiAgICAgIGFwaVVzZXIuc2V0VXNlckluZm8oeyBuZXdOYW1lOiBmaXJzdElucHV0LnZhbHVlLCBuZXdBYm91dDogc2Vjb25kSW5wdXQudmFsdWUgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYWx2YXInO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIF9uZXdQcm9maWxlTmFtZShmb3JtTmFtZSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpLnRleHRDb250ZW50ID0gZm9ybU5hbWUudmFsdWU7XG4gIH1cblxuICBfbmV3UHJvZmlsZURlc2NyaXB0aW9uKGZvcm1EZXNjcmlwdGlvbikge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19zdWJ0aXRsZScpLnRleHRDb250ZW50ID0gZm9ybURlc2NyaXB0aW9uLnZhbHVlO1xuICB9XG5cbiAgLy8gUG9wdXAgQWRkXG4gIF9mb3JtQWRkTWFuYWdlcihmb3JtLCBmaXJzdElucHV0LCBzZWNvbmRJbnB1dCkge1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmJ1dHRvbl9fdGV4dCcpO1xuICAgICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyaWFuZG8uLi4nO1xuICAgICAgdGhpcy5fYWRkUG9wdXBGb3JtSW5wdXRFdmVudChmaXJzdElucHV0KTtcbiAgICAgIHRoaXMuX2FkZFBvcHVwRm9ybUlucHV0RXZlbnQoc2Vjb25kSW5wdXQpO1xuICAgICAgYXBpVXNlckNhcmQudXBkYXRlQ2FyZCh7IG5ld05hbWU6IGZpcnN0SW5wdXQudmFsdWUsIG5ld0xpbms6IHNlY29uZElucHV0LnZhbHVlIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JpYXInO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgICBmb3JtLnN1Ym1pdCgpXG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgX2FkZFBvcHVwRm9ybUlucHV0RXZlbnQoYXJnKSB7XG4gICAgcmV0dXJuIGFyZy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IGFyZy52YWx1ZSk7XG4gIH1cblxuICAvL0F2YXRhclxuICBfZm9ybUF2YXRhck1hbmFnZXIoZm9ybSwgZmlyc3RJbnB1dCkge1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uX190ZXh0Jyk7XG4gICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnU2FsdmFuZG8uLi4nO1xuXG4gICAgICB0aGlzLl9uZXdQcm9maWxlQXZhdGFyKGZpcnN0SW5wdXQpO1xuICAgICAgYXBpVXNlci5zZXRVc2VyQXZhdGFyKGZpcnN0SW5wdXQudmFsdWUpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnU2Fsdm8nO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX25ld1Byb2ZpbGVBdmF0YXIoZmlyc3RJbnB1dCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbWFnZScpLnNyYyA9IGZpcnN0SW5wdXQudmFsdWU7XG4gIH1cblxuICAvL0FQSVxuICBfc2V0UHJvZmlsZUluZm9JbkFwaShmaXJzdElucHV0LCBzZWNvbmRJbnB1dCkge1xuICAgIGFwaVVzZXIuc2V0VXNlckluZm8oeyBuZXdOYW1lOiBmaXJzdElucHV0LnZhbHVlLCBuZXdBYm91dDogc2Vjb25kSW5wdXQudmFsdWUgfSk7XG4gIH1cblxuICBfc2V0Q2FyZEluZm9JbkFwaShmaXJzdElucHV0LCBzZWNvbmRJbnB1dCkge1xuICAgIGFwaVVzZXJDYXJkLnVwZGF0ZUNhcmQoeyBuZXdOYW1lOiBmaXJzdElucHV0LCBuZXdMaW5rOiBzZWNvbmRJbnB1dCB9KTtcbiAgfVxuXG4gIF9zZXRBdmF0YXJJbkFwaShsaW5rKSB7XG4gICAgYXBpVXNlci5zZXRVc2VyQXZhdGFyKGxpbmspO1xuICB9XG59IiwiaW1wb3J0IHsgZm9ybUVsZW1lbnRzVG9CZVZhbGlkYXRlZCB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9ycywgZm9ybXNFbGVtZW50cykge1xuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3Rvciwgc3VibWl0QnV0dG9uU2VsZWN0b3IsIGluYWN0aXZlQnV0dG9uQ2xhc3MsIGlucHV0RXJyb3JDbGFzcywgZm9ybURlc2NyaXB0aW9uLCBidXR0b25UZXh0RGlzYWJsZWQsIGVkaXRCdXR0b24sIGFkZEJ1dHRvbiwgYXZhdGFyQnV0dG9uLCBpbnB1dE5hbWVDbGFzcywgaW5wdXRTdGF0dXNDbGFzcywgaW5wdXRUaXRsZUNsYXNzLCBpbnB1dExpbmtDbGFzcywgaW5wdXRBdmF0YXJDbGFzcyB9ID0gc2VsZWN0b3JzO1xuICAgIGNvbnN0IHsgZm9ybU5hbWUsIGZvcm1TdGF0dXMsIGZvcm1UaXRsZSwgZm9ybUxpbmssIGZvcm1BdmF0YXIgfSA9IGZvcm1zRWxlbWVudHM7XG4gICAgLy8gT2JqZWN0IHZhbGlkYXRpb25cbiAgICB0aGlzLmlucHV0U2VsZWN0b3IgPSBpbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbjtcbiAgICB0aGlzLl9idXR0b25UZXh0RGlzYWJsZWQgPSBidXR0b25UZXh0RGlzYWJsZWQ7XG4gICAgdGhpcy5fZWRpdEJ1dHRvbiA9IGVkaXRCdXR0b247XG4gICAgdGhpcy5fYWRkQnV0dG9uID0gYWRkQnV0dG9uO1xuICAgIHRoaXMuX2F2YXRhckJ1dHRvbiA9IGF2YXRhckJ1dHRvbjtcbiAgICB0aGlzLl9pbnB1dE5hbWVDbGFzcyA9IGlucHV0TmFtZUNsYXNzO1xuICAgIHRoaXMuX2lucHV0U3RhdHVzQ2xhc3MgPSBpbnB1dFN0YXR1c0NsYXNzO1xuICAgIHRoaXMuX2lucHV0VGl0bGVDbGFzcyA9IGlucHV0VGl0bGVDbGFzcztcbiAgICB0aGlzLl9pbnB1dExpbmtDbGFzcyA9IGlucHV0TGlua0NsYXNzO1xuICAgIHRoaXMuX2lucHV0QXZhdGFyQ2xhc3MgPSBpbnB1dEF2YXRhckNsYXNzO1xuICAgIC8vIE9iamVjdCBmb3JtRWxlbWVudHNUb0JlVmFsaWRhdGVkXG4gICAgdGhpcy5fZm9ybU5hbWVTZWxlY3RvciA9IGZvcm1OYW1lLnNlbGVjdG9yO1xuICAgIHRoaXMuX2Zvcm1TdGF0dXNTZWxlY3RvciA9IGZvcm1TdGF0dXMuc2VsZWN0b3I7XG4gICAgdGhpcy5fZm9ybVRpdGxlU2VsZWN0b3IgPSBmb3JtVGl0bGUuc2VsZWN0b3I7XG4gICAgdGhpcy5fZm9ybUxpbmtTZWxlY3RvciA9IGZvcm1MaW5rLnNlbGVjdG9yO1xuICAgIHRoaXMuX2Zvcm1BdmF0YXJTZWxlY3RvciA9IGZvcm1BdmF0YXIuc2VsZWN0b3I7XG4gICAgLy8gUmFuZ2VzXG4gICAgdGhpcy5fZm9ybU5hbWVSYW5nZSA9IGZvcm1OYW1lLnJhbmdlO1xuICAgIHRoaXMuX2Zvcm1TdGF0dXNSYW5nZSA9IGZvcm1TdGF0dXMucmFuZ2U7XG4gICAgdGhpcy5fZm9ybVRpdGxlUmFuZ2UgPSBmb3JtVGl0bGUucmFuZ2VcbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgdGhpcy5faW5wdXRWYWxpZGF0aW9uID0gdGhpcy5faW5wdXRWYWxpZGF0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faW5wdXRXaXRoWmVyb0NoYXJhY3RlcmVzTGVuZ2h0ID0gZm9ybUVsZW1lbnRzVG9CZVZhbGlkYXRlZC5pbnB1dFdpdGhaZXJvQ2hhcmFjdGVyZXNMZW5naHQ7XG4gICAgdGhpcy5faW5wdXRXaXRoT25lQ2hhcmFjdGVyID0gZm9ybUVsZW1lbnRzVG9CZVZhbGlkYXRlZC5pbnB1dFdpdGhPbmVDaGFyYWN0ZXI7XG4gICAgdGhpcy5faW5wdXRFcXVhbFRvT3JHcmVhdGVyVGhhblR3b0NoYXJhY3RlcmVzID0gZm9ybUVsZW1lbnRzVG9CZVZhbGlkYXRlZC5pbnB1dEVxdWFsVG9PckdyZWF0ZXJUaGFuVHdvQ2hhcmFjdGVyZXM7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvckFsbCh0aGlzLmlucHV0U2VsZWN0b3IpXG4gICAgICAuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2lucHV0VmFsaWRhdGlvbikpO1xuICB9XG5cbiAgX2lucHV0VmFsaWRhdGlvbihlKSB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLl9mb3JtTmFtZVNlbGVjdG9yKSlcbiAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWx1ZSh7IHRhcmdldDogZS50YXJnZXQsIHJhbmdlOiB0aGlzLl9mb3JtTmFtZVJhbmdlLCBzZWxlY3RvcjogdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IsIGZpcnN0Rm9ybUlucHV0U2VsZWN0b3I6IHRoaXMuX2lucHV0TmFtZUNsYXNzLCBTZWNvbmRGb3JtSW5wdXRTZWxlY3RvcjogdGhpcy5faW5wdXRTdGF0dXNDbGFzcywgc2VsZWN0b3JGb3JCdXR0b246IHRoaXMuX2VkaXRCdXR0b24gfSk7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLl9mb3JtU3RhdHVzU2VsZWN0b3IpKVxuICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbHVlKHsgdGFyZ2V0OiBlLnRhcmdldCwgcmFuZ2U6IHRoaXMuX2Zvcm1TdGF0dXNSYW5nZSwgc2VsZWN0b3I6IHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yLCBmaXJzdEZvcm1JbnB1dFNlbGVjdG9yOiB0aGlzLl9pbnB1dE5hbWVDbGFzcywgU2Vjb25kRm9ybUlucHV0U2VsZWN0b3I6IHRoaXMuX2lucHV0U3RhdHVzQ2xhc3MsIHNlbGVjdG9yRm9yQnV0dG9uOiB0aGlzLl9lZGl0QnV0dG9uIH0pO1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5fZm9ybVRpdGxlU2VsZWN0b3IpKVxuICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbHVlKHsgdGFyZ2V0OiBlLnRhcmdldCwgcmFuZ2U6IHRoaXMuX2Zvcm1UaXRsZVJhbmdlLCBzZWxlY3RvcjogdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IsIGZpcnN0Rm9ybUlucHV0U2VsZWN0b3I6IHRoaXMuX2lucHV0VGl0bGVDbGFzcywgU2Vjb25kRm9ybUlucHV0U2VsZWN0b3I6IHRoaXMuX2lucHV0TGlua0NsYXNzLCBzZWxlY3RvckZvckJ1dHRvbjogdGhpcy5fYWRkQnV0dG9uIH0pO1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5fZm9ybUxpbmtTZWxlY3RvcikpXG4gICAgICB0aGlzLl9jaGVja1VSTCh7IHRhcmdldDogZS50YXJnZXQsIHNlbGVjdG9yOiB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciwgZmlyc3RGb3JtSW5wdXRTZWxlY3RvcjogdGhpcy5faW5wdXRUaXRsZUNsYXNzLCBTZWNvbmRGb3JtSW5wdXRTZWxlY3RvcjogdGhpcy5faW5wdXRMaW5rQ2xhc3MsIHNlbGVjdG9yRm9yQnV0dG9uOiB0aGlzLl9hZGRCdXR0b24gfSk7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLl9mb3JtQXZhdGFyU2VsZWN0b3IpKVxuICAgICAgdGhpcy5fY2hlY2tVUkwoeyB0YXJnZXQ6IGUudGFyZ2V0LCBzZWxlY3RvcjogdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IsIGZpcnN0Rm9ybUlucHV0U2VsZWN0b3I6IHRoaXMuX2lucHV0QXZhdGFyQ2xhc3MsIFNlY29uZEZvcm1JbnB1dFNlbGVjdG9yOiB1bmRlZmluZWQsIHNlbGVjdG9yRm9yQnV0dG9uOiB0aGlzLl9hdmF0YXJCdXR0b24gfSk7XG4gIH1cblxuICAvLyBNYW5hZ2VyIEZ1bmN0aW9uc1xuICBfY2hlY2tJbnB1dFZhbHVlKHsgdGFyZ2V0LCByYW5nZSwgc2VsZWN0b3IsIGZpcnN0Rm9ybUlucHV0U2VsZWN0b3IsIFNlY29uZEZvcm1JbnB1dFNlbGVjdG9yLCBzZWxlY3RvckZvckJ1dHRvbiB9KSB7XG4gICAgaWYgKHRhcmdldC52YWx1ZS5sZW5ndGggPT09IHRoaXMuX2lucHV0V2l0aFplcm9DaGFyYWN0ZXJlc0xlbmdodClcbiAgICAgIHRoaXMuX2ludmFsaWRJbnB1dFZhbHVlKHsgdGFyZ2V0LCB0ZXh0OiAnUHJlZW5jaGEgZXNzZSBjYW1wbycsIHNlbGVjdG9yLCBmaXJzdEZvcm1JbnB1dFNlbGVjdG9yLCBTZWNvbmRGb3JtSW5wdXRTZWxlY3Rvciwgc2VsZWN0b3JGb3JCdXR0b24gfSk7XG4gICAgaWYgKHRhcmdldC52YWx1ZS5sZW5ndGggPT09IHRoaXMuX2lucHV0V2l0aE9uZUNoYXJhY3RlciB8fCB0YXJnZXQudmFsdWUubGVuZ3RoID4gcmFuZ2UpXG4gICAgICB0aGlzLl9pbnZhbGlkSW5wdXRWYWx1ZSh7IHRhcmdldCwgdGV4dDogYEVzc2UgY2FtcG8gZGV2ZSB0ZXIgZGUgMiBhICR7cmFuZ2V9IGNhcmFjdGVyZXMuIEVzc2UgY2FtcG8gcG9zc3VpICR7dGFyZ2V0LnZhbHVlLmxlbmd0aH0gZMOtZ2l0b3NgLCBzZWxlY3RvciwgZmlyc3RGb3JtSW5wdXRTZWxlY3RvciwgU2Vjb25kRm9ybUlucHV0U2VsZWN0b3IsIHNlbGVjdG9yRm9yQnV0dG9uIH0pO1xuICAgIGlmICh0YXJnZXQudmFsdWUubGVuZ3RoID49IHRoaXMuX2lucHV0RXF1YWxUb09yR3JlYXRlclRoYW5Ud29DaGFyYWN0ZXJlcyAmJiB0YXJnZXQudmFsdWUubGVuZ3RoIDw9IHJhbmdlKVxuICAgICAgdGhpcy5fcmlnaHRDaGFyYWN0ZXJlcyh7IHRhcmdldCwgZmlyc3RGb3JtSW5wdXRTZWxlY3RvciwgU2Vjb25kRm9ybUlucHV0U2VsZWN0b3IsIHNlbGVjdG9yRm9yQnV0dG9uIH0pO1xuICB9XG5cbiAgX2NoZWNrVVJMKHsgdGFyZ2V0LCBzZWxlY3RvciwgZmlyc3RGb3JtSW5wdXRTZWxlY3RvciwgU2Vjb25kRm9ybUlucHV0U2VsZWN0b3IsIHNlbGVjdG9yRm9yQnV0dG9uIH0pIHtcbiAgICBpZiAodGhpcy5faXNWYWxpZEh0dHBVcmwodGFyZ2V0LnZhbHVlKSA9PT0gdHJ1ZSlcbiAgICAgIHRoaXMuX3JpZ2h0Q2hhcmFjdGVyZXMoeyB0YXJnZXQsIGZpcnN0Rm9ybUlucHV0U2VsZWN0b3IsIFNlY29uZEZvcm1JbnB1dFNlbGVjdG9yLCBzZWxlY3RvckZvckJ1dHRvbiB9KTtcbiAgICBlbHNlXG4gICAgICB0aGlzLl9pbnZhbGlkSW5wdXRWYWx1ZSh7IHRhcmdldCwgdGV4dDogJ1BvciBmYXZvciwgaW5zaXJhIHVtIGVuZGVyZcOnbyB3ZWInLCBzZWxlY3RvciwgZmlyc3RGb3JtSW5wdXRTZWxlY3RvciwgU2Vjb25kRm9ybUlucHV0U2VsZWN0b3IsIHNlbGVjdG9yRm9yQnV0dG9uIH0pO1xuICB9XG5cbiAgLy9zdWJtYW5hZ2VyIGZ1bmN0aW9uc1xuICBfaW52YWxpZElucHV0VmFsdWUoeyB0YXJnZXQsIHRleHQsIHNlbGVjdG9yLCBmaXJzdEZvcm1JbnB1dFNlbGVjdG9yLCBTZWNvbmRGb3JtSW5wdXRTZWxlY3Rvciwgc2VsZWN0b3JGb3JCdXR0b24gfSkge1xuICAgIHRoaXMuX2FkZElucHV0RXJyb3IodGFyZ2V0KTtcbiAgICB0aGlzLl9hZGRUZXh0RXJyb3IoeyB0YXJnZXQsIHRleHQgfSk7XG4gICAgdGhpcy5fYWRkRGlzYWJsZUJ1dHRvbihzZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybVZhbGlkYXRpb25NYW5hZ2VyKHsgZmlyc3RGb3JtSW5wdXRTZWxlY3RvciwgU2Vjb25kRm9ybUlucHV0U2VsZWN0b3IsIHNlbGVjdG9yRm9yQnV0dG9uIH0pO1xuICB9XG5cbiAgX3JpZ2h0Q2hhcmFjdGVyZXMoeyB0YXJnZXQsIGZpcnN0Rm9ybUlucHV0U2VsZWN0b3IsIFNlY29uZEZvcm1JbnB1dFNlbGVjdG9yLCBzZWxlY3RvckZvckJ1dHRvbiB9KSB7XG4gICAgdGhpcy5fcmVtb3ZlSW5wdXRFcnJvcih0YXJnZXQpO1xuICAgIHRoaXMuX3JlbW92ZVRleHRFcnJvcih0YXJnZXQpO1xuICAgIHRoaXMuX2Zvcm1WYWxpZGF0aW9uTWFuYWdlcih7IGZpcnN0Rm9ybUlucHV0U2VsZWN0b3IsIFNlY29uZEZvcm1JbnB1dFNlbGVjdG9yLCBzZWxlY3RvckZvckJ1dHRvbiB9KTtcbiAgfVxuXG4gIC8vIEFkZCBjYXJhY3RlcmlzdHMgRnVuY3Rpb25zXG4gIF9hZGRJbnB1dEVycm9yKHRoZVRhcmdldElucHV0WW91V2FudFRvQWRkQW5FcnJvckNsYXNzKSB7XG4gICAgdGhlVGFyZ2V0SW5wdXRZb3VXYW50VG9BZGRBbkVycm9yQ2xhc3MuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2FkZFRleHRFcnJvcih7IHRhcmdldCwgdGV4dCB9KSB7XG4gICAgY29uc3QgdGV4dG8gPSB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIHRleHRvLmNsYXNzTGlzdC5hZGQodGhpcy5fZm9ybURlc2NyaXB0aW9uKTtcbiAgICB0ZXh0by50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cblxuICBfYWRkRGlzYWJsZUJ1dHRvbihzZWxlY3Rvcikge1xuICAgIGNvbnN0IGJvdGFvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgYm90YW8uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaXRlbS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBpdGVtLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQodGhpcy5fYnV0dG9uVGV4dERpc2FibGVkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBjYXJhY3RlcmlzdHMgRnVuY3Rpb25zXG4gIF9yZW1vdmVJbnB1dEVycm9yKHRoZVRhcmdldElucHV0WW91V2FudFRvUmVtb3ZlQW5FcnJvckNsYXNzKSB7XG4gICAgdGhlVGFyZ2V0SW5wdXRZb3VXYW50VG9SZW1vdmVBbkVycm9yQ2xhc3MuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX3JlbW92ZVRleHRFcnJvcih0aGVUYXJnZXRJbnB1dFlvdVdhbnRUb1JlbW92ZUFuRXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgdGV4dG8gPSB0aGVUYXJnZXRJbnB1dFlvdVdhbnRUb1JlbW92ZUFuRXJyb3JNZXNzYWdlLm5leHRFbGVtZW50U2libGluZztcbiAgICB0ZXh0by5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Zvcm1EZXNjcmlwdGlvbik7XG4gICAgdGV4dG8udGV4dENvbnRlbnQgPSBgYDtcbiAgfVxuXG4gIF9yZW1vdmVEaXNhYmxlQnV0dG9uKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIGl0ZW0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgaXRlbS5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2J1dHRvblRleHREaXNhYmxlZCk7XG4gIH1cblxuICAvL1ZlcmlmeSBIVFRQXG4gIF9pc1ZhbGlkSHR0cFVybCh0aGVPbmx5VXJsQXRBVGltZVlvdVdhbnRUb1ZhbGlkYXRlKSB7XG4gICAgY29uc3QgcmVnZXggPSAvXihodHRwfGh0dHBzKTpcXC9cXC9bXiAnXSskLztcbiAgICByZXR1cm4gcmVnZXgudGVzdCh0aGVPbmx5VXJsQXRBVGltZVlvdVdhbnRUb1ZhbGlkYXRlKTtcbiAgfVxuXG4gIC8vIFZlcmlmeSBGb3JtXG4gIF9mb3JtVmFsaWRhdGlvbk1hbmFnZXIoeyBmaXJzdEZvcm1JbnB1dFNlbGVjdG9yLCBTZWNvbmRGb3JtSW5wdXRTZWxlY3Rvciwgc2VsZWN0b3JGb3JCdXR0b24gfSkge1xuICAgIGNvbnN0IHRoZUZpcnN0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZpcnN0Rm9ybUlucHV0U2VsZWN0b3IpO1xuICAgIGNvbnN0IHRoZVNlY29uZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTZWNvbmRGb3JtSW5wdXRTZWxlY3Rvcik7XG4gICAgaWYgKHRoZVNlY29uZElucHV0ID09PSB1bmRlZmluZWQgfHwgdGhlU2Vjb25kSW5wdXQgPT09IG51bGwpIHtcbiAgICAgIGlmICghdGhlRmlyc3RJbnB1dC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5faW5wdXRFcnJvckNsYXNzKSAmJiB0aGVGaXJzdElucHV0LnZhbHVlICE9ICcnKVxuICAgICAgICB0aGlzLl9yZW1vdmVEaXNhYmxlQnV0dG9uKHNlbGVjdG9yRm9yQnV0dG9uKTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5fYWRkRGlzYWJsZUJ1dHRvbihzZWxlY3RvckZvckJ1dHRvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKCF0aGVGaXJzdElucHV0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpICYmICF0aGVTZWNvbmRJbnB1dC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5faW5wdXRFcnJvckNsYXNzKSAmJiB0aGVGaXJzdElucHV0LnZhbHVlICE9ICcnICYmIHRoZVNlY29uZElucHV0LnZhbHVlICE9ICcnKVxuICAgICAgICB0aGlzLl9yZW1vdmVEaXNhYmxlQnV0dG9uKHNlbGVjdG9yRm9yQnV0dG9uKTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5fYWRkRGlzYWJsZUJ1dHRvbihzZWxlY3RvckZvckJ1dHRvbik7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgcHJvZmlsZU5hbWUsIHByb2ZpbGVXb3JrLCBwcm9maWxlSW1hZ2UgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgd29yaywgaW1hZ2UgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl93b3JrID0gd29ya1xyXG4gICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZSxcclxuICAgICAgd29yazogdGhpcy5fd29yayxcclxuICAgICAgaW1hZ2U6IHRoaXMuX2ltYWdlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbygpIHtcclxuICAgIHByb2ZpbGVOYW1lKHRoaXMuX25hbWUpO1xyXG4gICAgcHJvZmlsZVdvcmsodGhpcy5fd29yayk7XHJcbiAgICBwcm9maWxlSW1hZ2UodGhpcy5faW1hZ2UpO1xyXG4gIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZXNSZW5kZXIge1xuICBpbnNlcnRJblBhZ2UoeyBsb2NhbCwgbGluayB9KSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChsb2NhbCkuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke2xpbmt9YCkpO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICB9XG5cbiAgZGVsZXRlUG9zdEV2ZW50KHRlbXBsYXRlQ29ycGUsIHsgb3duZXIsIGRhdGEsIGlkLCB1c2VyIH0pIHtcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0ZW1wbGF0ZUNvcnBlLnF1ZXJ5U2VsZWN0b3IoJy5wb3N0X19kZWxldGVfX2ltYWdlJyk7XG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHRoaXMuX29wZW5EZWxldGVQb3B1cChlLCB7IG93bmVyLCBkYXRhLCBpZCwgdXNlciB9KSk7XG4gIH1cblxuICBfb3BlbkRlbGV0ZVBvcHVwKGUsIHsgb3duZXIsIGRhdGEsIGlkLCB1c2VyIH0pIHtcbiAgICBzdXBlci5vcGVuKCcucG9wdXBfbW9kYWwtZGVsZXRlJyk7XG4gICAgdGhpcy5fY2xvc2VEZWxldGVQb3B1cChlLCB7IG93bmVyLCBkYXRhLCBpZCwgdXNlciB9KTtcbiAgfVxuXG4gIF9jbG9zZURlbGV0ZVBvcHVwKGUsIHsgb3duZXIsIGRhdGEsIGlkLCB1c2VyIH0pIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbl9kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHN1cGVyLmNsb3NlKCcucG9wdXBfbW9kYWwtZGVsZXRlJyk7XG4gICAgICB0aGlzLl9kZWxldGVQb3N0SW5QYWdlKGUpO1xuICAgICAgdGhpcy5fZGVsZXRlUG9zdEluU2VydmVyKHVzZXIsIGlkKTtcbiAgICB9KTtcbiAgICBpZiAoSlNPTi5zdHJpbmdpZnkob3duZXIuX2lkKSAhPT0gSlNPTi5zdHJpbmdpZnkoZGF0YS5vd25lci5faWQpKSB7XG4gICAgICBjb25zb2xlLmxvZygnVm9jw6ogbsOjbyB0ZW0gcGVybWlzc8OjbyBwYXJhIGV4Y2x1aXIgZXNzZSBjYXJ0w6NvJyk7XG4gICAgfVxuICB9XG5cbiAgX2RlbGV0ZVBvc3RJblBhZ2UoZSkge1xuICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICB9XG5cbiAgX2RlbGV0ZVBvc3RJblNlcnZlcih1c2VyLCBpZCkge1xuICAgIHVzZXIuZGVsZXRlQ2FyZChpZCk7XG4gIH1cbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyB2YWxpZGF0aW9uLCBmb3JtRWxlbWVudHNUb0JlVmFsaWRhdGVkLCBjYXJkTGlzdCwgYXBpVXNlciwgYXBpVXNlckNhcmQsIGJ1dHRvbkFkZEljb24sIGNsb3NlSWNvbiwgYnV0dG9uRWRpdEljb24sIGxvZ28sIHRyYXNoSWNvbiwgcGVuIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBJbWFnZXNSZW5kZXIgZnJvbSAnLi4vY29tcG9uZW50cy9JbWFnZXNSZW5kZXIuanMnO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyc7XG5cbmNvbnN0IGltYWdlc1JlbmRlciA9IG5ldyBJbWFnZXNSZW5kZXIoKTtcbmltYWdlc1JlbmRlci5pbnNlcnRJblBhZ2UoeyBsb2NhbDogJy5sb2dvJywgbGluazogbG9nbyB9KTtcbmltYWdlc1JlbmRlci5pbnNlcnRJblBhZ2UoeyBsb2NhbDogJy5lZGl0JywgbGluazogYnV0dG9uRWRpdEljb24gfSk7XG5pbWFnZXNSZW5kZXIuaW5zZXJ0SW5QYWdlKHsgbG9jYWw6ICcuYWRkJywgbGluazogYnV0dG9uQWRkSWNvbiB9KTtcbmltYWdlc1JlbmRlci5pbnNlcnRJblBhZ2UoeyBsb2NhbDogJy5wb3B1cF9faWNvbicsIGxpbms6IGNsb3NlSWNvbiB9KTtcbmltYWdlc1JlbmRlci5pbnNlcnRJblBhZ2UoeyBsb2NhbDogJy5wb3N0X19kZWxldGVfX2ltYWdlJywgbGluazogdHJhc2hJY29uIH0pO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdmVyJykuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3Blbn0pYDtcblxuY29uc3QgZWRpdEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7IGZvcm06ICdmb3JtRWRpdCcsIGZpcnN0SW5wdXQ6ICdmb3JtTmFtZScsIHNlY29uZElucHV0OiAnZm9ybURlc2NyaXB0aW9uJyB9KTtcbmNvbnN0IGFkZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7IGZvcm06ICdmb3JtQWRkJywgZmlyc3RJbnB1dDogJ2Zvcm1UaXRsZScsIHNlY29uZElucHV0OiAnZm9ybUxpbmsnLCBmb3JtTmFtZVJhbmdlOiA0MCwgZm9ybVN0YXR1c1JhbmdlOiAyMDAsIGZvcm1UaXRsZVJhbmdlOiAzMCB9KTtcbmNvbnN0IGF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7IGZvcm06ICdmb3JtQXZhdGFyJywgZmlyc3RJbnB1dDogJ2Zvcm1JbWFnZScgfSk7XG5lZGl0Rm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuYXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBpbWFnZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgpO1xuXG5jb25zdCBwb3B1cCA9IG5ldyBQb3B1cDtcbnBvcHVwLm9wZW5Qb3B1cE1hbmFnZXIoKTtcbnBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByZXBhcmVWYWxpZGF0aW9ucyA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb24sIGZvcm1FbGVtZW50c1RvQmVWYWxpZGF0ZWQpO1xucHJlcGFyZVZhbGlkYXRpb25zLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuYXBpVXNlci5nZXRVc2VySW5mbygpXG4gIC50aGVuKHVzZXJEYXRhID0+IHtcbiAgICBjb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIHdvcms6IHVzZXJEYXRhLmFib3V0LCBpbWFnZTogdXNlckRhdGEuYXZhdGFyIH0pO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKCk7XG4gIH0pXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG5cbmNvbnN0IHRoZVBvcHVwV2l0aENvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oKTtcblxuXG5Qcm9taXNlLmFsbChbYXBpVXNlckNhcmQuZ2V0VXNlckluZm8oKSwgYXBpVXNlci5nZXRVc2VySW5mbygpXSlcbiAgLnRoZW4oKFt1c2VyRGF0YSwgbWFzdGVyXSkgPT4ge1xuICAgIGNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICAgIGNhcmRUZW1wbGF0ZTogJyNwb3N0X190ZW1wbGF0ZScsXG4gICAgICAgIGhhbmRsZUNhcmRDbGljazogaW1hZ2VDYXJkUG9wdXAuaGFuZGxlQ2FyZENsaWNrKCksXG4gICAgICAgIGxpa2U6IGRhdGEubGlrZXMsXG4gICAgICAgIGlkOiBkYXRhLl9pZCxcbiAgICAgICAgb3duZXI6IG1hc3RlcixcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgdXNlcjogYXBpVXNlckNhcmQsXG4gICAgICAgIGRlbGV0ZUV2ZW50OiB0aGVQb3B1cFdpdGhDb25maXJtYXRpb25cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhcmQuc2V0RWxlbWVudHNJblRlbXBsYXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oeyBpdGVtczogdXNlckRhdGEsIHJlbmRlcmVyOiBjcmVhdGVDYXJkIH0sIGNhcmRMaXN0KTtcbiAgICBzZWN0aW9uLnJlbmRlcmVyKCk7XG4gIH0pXG4gIC5jYXRjaChlcnIgPT4gZXJyKTtcblxuXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsInAiLCJQb3B1cCIsInNlbGVjdG9yIiwidGhpcyIsIl9zZWxlY3RvciIsImNsb3NlIiwiYmluZCIsImNsb3NlV2l0aEZhZGUiLCJzZXRFdmVudExpc3RlbmVycyIsImFyZyIsInBvcHVwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZmFkZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbmFtZUVkaXRQb3B1cFZhbHVlcyIsImFkZEJ1dHRvbiIsInByb2ZpbGVCdXR0b24iLCJhdmF0YXJFZGl0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJwb3B1cHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIml0ZW0iLCJhZGQiLCJyZXNldFZhbGlkYXRpb25zIiwiZSIsImtleSIsInJlbW92ZUVzY0V2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZE1vZGFsIiwiZWRpdE1vZGFsIiwiYXZhdGFyTW9kYWwiLCJkZWxldGVNb2RhbCIsImRpc2FibGVkIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJmb3JtTmFtZSIsImZvcm1TdGF0dXMiLCJ0aXRsZSIsInN1YnRpdGxlIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsIkFwaSIsInRva2VuIiwibGluayIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwianNvbiIsIm9rIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIm5ld05hbWUiLCJuZXdBYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJuYW1lIiwiX2NoZWNrVGhlQXBpUmVzcG9uc2UiLCJpbWFnZSIsImF2YXRhciIsIm5ld0xpbmsiLCJjcmVhdGVBdCIsImFjdHVhbERhdGVUaW1lIiwibGlrZXMiLCJvd25lciIsImFwaVVzZXIiLCJnZXRVc2VySW5mbyIsIl9pZCIsIm5ld0lkIiwiY2FyZElkIiwiZm9ybUVsZW1lbnRzVG9CZVZhbGlkYXRlZCIsInJhbmdlIiwiZm9ybVRpdGxlIiwiZm9ybUxpbmsiLCJmb3JtQXZhdGFyIiwiaW5wdXRXaXRoWmVyb0NoYXJhY3RlcmVzTGVuZ2h0IiwiaW5wdXRXaXRoT25lQ2hhcmFjdGVyIiwiaW5wdXRFcXVhbFRvT3JHcmVhdGVyVGhhblR3b0NoYXJhY3RlcmVzIiwiaW1hZ2VNb2RhbCIsIm1vZGFsSW1hZ2UiLCJtb2RhbERlc2NyaXB0aW9uIiwiY2FyZExpc3QiLCJhcGlVc2VyQ2FyZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsIkRhdGUiLCJub3ciLCJ0b0xvY2FsZVN0cmluZyIsIkNhcmQiLCJjYXJkVGVtcGxhdGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJsaWtlIiwiaWQiLCJkYXRhIiwidXNlciIsImRlbGV0ZUV2ZW50IiwiX25hbWUiLCJfbGluayIsIl9jYXJkVGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2xpa2UiLCJfb3duZXIiLCJfZGF0YSIsIl91c2VyIiwiX2RlbGV0ZUV2ZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsInRlbXBsYXRlQ29ycGUiLCJfZ2V0VGVtcGxhdGUiLCJfdGVtcGxhdGVDb3JwZVNldHMiLCJfbGlrZUV2ZW50IiwiX2xpa2VkU3RhdHVzIiwiZGVsZXRlUG9zdEV2ZW50IiwiX3JlbW92ZURlbGV0ZUJ1dHRvblRvTm90T3duZXJzUG9zdCIsInVuZGVmaW5lZCIsIm5leHRFbGVtZW50U2libGluZyIsInNyYyIsInNldEF0dHJpYnV0ZSIsInRyYXNoSWNvbiIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwibGlrZUJ1dHRvbiIsIl9saWtlTnVtYmVyIiwic29tZSIsImxpa2VCdXR0b25BY3RpdmVkIiwibGVuZ3RoIiwiY29udGFpbnMiLCJyZW1vdmVMaWtlIiwidGFyZ2V0IiwiTnVtYmVyIiwiYWRkTGlrZSIsIlNlY3Rpb24iLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiYXBwZW5kIiwiYWRkSXRlbSIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlTW9kYWxPcGVuIiwiX2FkanVzdEltYWdlV2lkdGgiLCJpbWFnZUV2ZW50VGFyZ2V0IiwiX2ltYWdlQ2FyZE1hbmFnZXIiLCJpbWFnZVNvdXJjZSIsIl90YXJnZXRTZWxlY3RvciIsImNsb3NlQnV0dG9uIiwiaW1hZ2VXaWR0aCIsImNsaWVudFdpZHRoIiwid2lkdGgiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybSIsImZpcnN0SW5wdXQiLCJzZWNvbmRJbnB1dCIsIl9mb3JtIiwiX2ZpcnN0SW5wdXQiLCJfc2Vjb25kSW5wdXQiLCJmb3JtcyIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtRWRpdE1hbmFnZXIiLCJfZm9ybUFkZE1hbmFnZXIiLCJfZm9ybUF2YXRhck1hbmFnZXIiLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdEJ1dHRvbiIsIl9uZXdQcm9maWxlTmFtZSIsIl9uZXdQcm9maWxlRGVzY3JpcHRpb24iLCJzZXRVc2VySW5mbyIsInJlc2V0IiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJmb3JtRGVzY3JpcHRpb24iLCJfYWRkUG9wdXBGb3JtSW5wdXRFdmVudCIsInVwZGF0ZUNhcmQiLCJzdWJtaXQiLCJfbmV3UHJvZmlsZUF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJGb3JtVmFsaWRhdG9yIiwic2VsZWN0b3JzIiwiZm9ybXNFbGVtZW50cyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJidXR0b25UZXh0RGlzYWJsZWQiLCJlZGl0QnV0dG9uIiwiYXZhdGFyQnV0dG9uIiwiaW5wdXROYW1lQ2xhc3MiLCJpbnB1dFN0YXR1c0NsYXNzIiwiaW5wdXRUaXRsZUNsYXNzIiwiaW5wdXRMaW5rQ2xhc3MiLCJpbnB1dEF2YXRhckNsYXNzIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Zvcm1EZXNjcmlwdGlvbiIsIl9idXR0b25UZXh0RGlzYWJsZWQiLCJfZWRpdEJ1dHRvbiIsIl9hZGRCdXR0b24iLCJfYXZhdGFyQnV0dG9uIiwiX2lucHV0TmFtZUNsYXNzIiwiX2lucHV0U3RhdHVzQ2xhc3MiLCJfaW5wdXRUaXRsZUNsYXNzIiwiX2lucHV0TGlua0NsYXNzIiwiX2lucHV0QXZhdGFyQ2xhc3MiLCJfZm9ybU5hbWVTZWxlY3RvciIsIl9mb3JtU3RhdHVzU2VsZWN0b3IiLCJfZm9ybVRpdGxlU2VsZWN0b3IiLCJfZm9ybUxpbmtTZWxlY3RvciIsIl9mb3JtQXZhdGFyU2VsZWN0b3IiLCJfZm9ybU5hbWVSYW5nZSIsIl9mb3JtU3RhdHVzUmFuZ2UiLCJfZm9ybVRpdGxlUmFuZ2UiLCJfaW5wdXRWYWxpZGF0aW9uIiwiX2lucHV0V2l0aFplcm9DaGFyYWN0ZXJlc0xlbmdodCIsIl9pbnB1dFdpdGhPbmVDaGFyYWN0ZXIiLCJfaW5wdXRFcXVhbFRvT3JHcmVhdGVyVGhhblR3b0NoYXJhY3RlcmVzIiwiX2NoZWNrSW5wdXRWYWx1ZSIsImZpcnN0Rm9ybUlucHV0U2VsZWN0b3IiLCJTZWNvbmRGb3JtSW5wdXRTZWxlY3RvciIsInNlbGVjdG9yRm9yQnV0dG9uIiwiX2NoZWNrVVJMIiwiX2ludmFsaWRJbnB1dFZhbHVlIiwidGV4dCIsIl9yaWdodENoYXJhY3RlcmVzIiwiX2lzVmFsaWRIdHRwVXJsIiwiX2FkZElucHV0RXJyb3IiLCJfYWRkVGV4dEVycm9yIiwiX2FkZERpc2FibGVCdXR0b24iLCJfZm9ybVZhbGlkYXRpb25NYW5hZ2VyIiwiX3JlbW92ZUlucHV0RXJyb3IiLCJfcmVtb3ZlVGV4dEVycm9yIiwidGhlVGFyZ2V0SW5wdXRZb3VXYW50VG9BZGRBbkVycm9yQ2xhc3MiLCJ0ZXh0byIsInRoZVRhcmdldElucHV0WW91V2FudFRvUmVtb3ZlQW5FcnJvckNsYXNzIiwidGhlVGFyZ2V0SW5wdXRZb3VXYW50VG9SZW1vdmVBbkVycm9yTWVzc2FnZSIsInRoZU9ubHlVcmxBdEFUaW1lWW91V2FudFRvVmFsaWRhdGUiLCJ0ZXN0IiwidGhlRmlyc3RJbnB1dCIsInRoZVNlY29uZElucHV0IiwiX3JlbW92ZURpc2FibGVCdXR0b24iLCJVc2VySW5mbyIsIndvcmsiLCJfd29yayIsIl9pbWFnZSIsIkltYWdlc1JlbmRlciIsImxvY2FsIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX29wZW5EZWxldGVQb3B1cCIsIl9jbG9zZURlbGV0ZVBvcHVwIiwiZXZlbnQiLCJfZGVsZXRlUG9zdEluUGFnZSIsIl9kZWxldGVQb3N0SW5TZXJ2ZXIiLCJsb2ciLCJwYXJlbnRFbGVtZW50IiwiZGVsZXRlQ2FyZCIsImltYWdlc1JlbmRlciIsImluc2VydEluUGFnZSIsImxvZ28iLCJidXR0b25FZGl0SWNvbiIsImJ1dHRvbkFkZEljb24iLCJjbG9zZUljb24iLCJwZW4iLCJlZGl0Rm9ybSIsImFkZEZvcm0iLCJmb3JtTmFtZVJhbmdlIiwiZm9ybVN0YXR1c1JhbmdlIiwiZm9ybVRpdGxlUmFuZ2UiLCJhdmF0YXJGb3JtIiwiaW1hZ2VDYXJkUG9wdXAiLCJvcGVuUG9wdXBNYW5hZ2VyIiwiZW5hYmxlVmFsaWRhdGlvbiIsInVzZXJEYXRhIiwiZXJyIiwidGhlUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiYWxsIiwibWFzdGVyIiwic2V0RWxlbWVudHNJblRlbXBsYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==